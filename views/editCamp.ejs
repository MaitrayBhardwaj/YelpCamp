<% layout("layouts/boilerplate.ejs")%>
<div class="d-flex align-items-center justify-content-center">
	<div class="p-5 border mb-5 d-flex flex-column" style="width: 50%">
		<h1 class="mb-4 align-self-center">Update Campground</h1>
		<form action="/campgrounds/<%= data._id %>?_method=PATCH" class="d-flex flex-column justify-content-evenly needs-validation" method="POST" enctype="multipart/form-data" novalidate>
			<input class="form-control mt-3 p-2" type="text" name="title" placeholder="Campground Name" value="<%= data.title %>">
			<div class="input-group mt-3">
			  <span class="input-group-text">$</span>
			  <input type="number" class="form-control" name="price" value="<%= data.price %>">
			</div>
			<input class="form-control mt-3 p-2" type="text" name="desc" placeholder="Campground Description" value="<%= data.desc %>">
			<input class="form-control mt-3 p-2" type="text" name="location" placeholder="Campground Location" value="<%= data.location %>">
			<div class="mt-3">
			  <input class="form-control custom-file" name="image" type="file" id="formFileMultiple" multiple>
			</div>
			<div class="mt-3">
				<% data.image.forEach((img, i) => { %>
				<div class="mt-3 d-block">
					<input type="checkbox" name="deleteImg[]" id="img-<%= i %>" value="<%= img.filename %>">
					<label for="img-<%= i %>">Delete?</label>
				</div>
					<% img.thumb =  img.url.replace('/upload', '/upload/w_300') %>
					<img src="<%= img.thumb %>" class="img-thumbnail">
				<% }) %>
			</div>
			<div class="d-flex mt-3">
				<button class="btn btn-success">Update</button>
				<a href="/campgrounds/<%= data._id %>" class="btn btn-primary mx-3">Cancel</a>
			</div>
		</form>
	</div>
</div>

<script src="/js/validation.js"></script>